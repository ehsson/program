#include <stdio.h>

int main(void)
{
	int T, N;
	int b, pos, temp, chk;
	int arr[32] = { 0 };

	scanf_s("%d", &T);

	for (int t = 1; t <= T; t++)
	{
		scanf_s("%d", &N);

		b = 2;
		chk = 0;

		while (b * b < N)
		{
			pos = 0;

			arr[pos] = N % b;
			temp = N / b;

			pos++;

			while (1)
			{
				arr[pos] = temp % b;
				temp /= b;

				if (arr[pos] != arr[pos - 1])
					break;

				if (temp == 0)
				{
					chk = 1;
					break;
				}

				pos++;
			}

			if (chk == 1)
				break;

			b++;
		}

		if (chk == 0)
		{
			for (int i = 1; i * i < N; i++) {
				if (N % i == 0) {
					b = N / i - 1;
				}
			}
		}

		printf("Case #%d\n%d\n", t, b);
	}

	return 0;
}
