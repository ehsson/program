#include <stdio.h>

int main(void)
{
	int T, N, val, hei, wid, tmp, cnt;
	int arr[10][10] = { 0 };
	
	scanf("%d", &T);
	
	for(int t = 1; t <= T; t++) {
		scanf("%d", &N);
		
		val = 1;
		hei = 0;
		wid = 0;
		tmp = N;
		
		while(1) {
			cnt = 0;
			
			while(tmp > cnt) {
				if(hei < (int)(N / 2)) 
					arr[hei][wid++] = val++;
				else 
					arr[hei][wid--] = val++;
				
				cnt++;
			}
			
			if(wid < (int)(N / 2)) {
				wid++;
				hei--;
			}
			else {
				wid--;
				hei++;
			}
			
			tmp--;
			
			if(tmp == 0)
				break;
			
			cnt = 0;
			
			while(tmp > cnt) {
				if(wid < (int)(N / 2)) 
					arr[hei--][wid] = val++;
				else 
					arr[hei++][wid] = val++;
				
				cnt++;
			}
			
			if(hei < (int)(N / 2)) {
				hei++;
				wid++;
			}
			else {
				hei--;
				wid--;
			}
		}
		
		printf("#%d\n", t);
		
		for(int y = 0; y < N; y++) {
			for(int x = 0; x < N; x++)
				printf("%d ", arr[y][x]);
			
			printf("\n");
		}
	}
	
	return 0;
}
